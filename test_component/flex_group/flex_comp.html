<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="resource/css/reset.css">
    <link rel="stylesheet" href="resource/css/old_common.css">
    <script src="resource/js/jquery-3.4.1.min.js"></script>
    <title>Flex component</title>
</head>

<body>
    <div class="wrap">
        <div class="container">
            <div class="tab_main">
                <div class="tit_main">
                    <h2>Flex Component 배치하기</h2>
                    <p>배치하기 쉽게 만들어봅시다.</p>
                </div>
                <div class="ly_content">
                    <div class="content">
                        <div class="grp_component">
                            <p class="title">FlexBox 예제</p>
                            <table class="easy_tbl">
                                <colgroup>
                                    <col style="width: 150px;">
                                    <col>
                                </colgroup>
                                <tr>
                                    <th><span>제목</span>
                                    </th>
                                    <td>
                                        <div class="easy_wrap" id="item-container">
                                            <div class="grp_sch movable-item">
                                                <input type="text">
                                                <button>검색</button>
                                            </div>
                                            <select name="" id="" class="movable-item">
                                                <option value="">셀렉트옵션01</option>
                                                <option value="">셀렉트옵션02</option>
                                            </select>
                                            <button class="movable-item">버튼1</button>
                                            <button class="movable-item">버튼2</button>
                                            <button class="movable-item">버튼3</button>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="grp_component">
                            <p class="title">FlexBox 예제2</p>
                            <table class="easy_tbl">
                                <colgroup>
                                    <col style="width: 150px;">
                                    <col>
                                </colgroup>
                                <tr>
                                    <th><span>제목</span>
                                    </th>
                                    <td>
                                        <div class="easy_wrap" id="easy_wrap">
                                            <div class="grp_sch" id="target">
                                                <input type="text">
                                                <button>검색</button>
                                            </div>
                                            <select name="" id="target2">
                                                <option value="">셀렉트옵션01</option>
                                                <option value="">셀렉트옵션02</option>
                                            </select>
                                            <button>버튼1</button>
                                            <button>버튼2</button>
                                            <button>버튼3</button>
                                        </div>
                                        <div class="easy_set">
                                            <div>
                                                <select name="" id="style-select">
                                                    <option value="auto">auto</option>
                                                    <option value="flex">fr</option>
                                                    <option value="width">px</option>
                                                    <option value="">%</option>
                                                </select>
                                                <div style="display: flex;gap:2px">
                                                    <input type="text" id="value-input">
                                                    <button onclick="applyStyle()"
                                                        style="margin-top: 2px;background-color: #fff; width: 40px;min-width: 0;font-size: 12px;padding:0;">적용</button>
                                                </div>
                                            </div>
                                            <div>
                                                <select name="" id="style-select2">
                                                    <option value="auto">auto</option>
                                                    <option value="flex">fr</option>
                                                    <option value="width">px</option>
                                                    <option value="">%</option>
                                                </select>
                                                <div style="display: flex;gap:2px">
                                                    <input type="text" id="value-input2">
                                                    <button onclick="applyStyle2()"
                                                        style="margin-top: 2px;background-color: #fff; width: 40px;min-width: 0;font-size: 12px;padding:0;">적용</button>
                                                </div>
                                            </div>
                                            <div>
                                                <select name="" id="">
                                                    <option value="">auto</option>
                                                    <option value="">fr</option>
                                                    <option value="">px</option>
                                                    <option value="">%</option>
                                                </select>
                                                <input type="text">
                                            </div>
                                            <div>
                                                <select name="" id="">
                                                    <option value="">auto</option>
                                                    <option value="">fr</option>
                                                    <option value="">px</option>
                                                    <option value="">%</option>
                                                </select>
                                                <input type="text">
                                            </div>
                                            <div>
                                                <select name="" id="">
                                                    <option value="">auto</option>
                                                    <option value="">fr</option>
                                                    <option value="">px</option>
                                                    <option value="">%</option>
                                                </select>
                                                <input type="text">
                                            </div>
                                            <div class="none" id="div01">
                                                <select name="" id="">
                                                    <option value="">auto</option>
                                                    <option value="">fr</option>
                                                    <option value="">px</option>
                                                    <option value="">%</option>
                                                </select>
                                                <input type="text">
                                            </div>
                                            <div class="none" id="div02">
                                                <select name="" id="">
                                                    <option value="">auto</option>
                                                    <option value="">fr</option>
                                                    <option value="">px</option>
                                                    <option value="">%</option>
                                                </select>
                                                <input type="text">
                                            </div>
                                            <button id="addButton" class="addButton">+</button>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div id="button-container">
                        <button id="move-top"></button>
                        <button id="move-up"></button>
                        <button id="move-down"></button>
                        <button id="move-bottom"></button>
                    </div>
                    <div class="content set">
                        <div id="inputForm" class="form_setting">
                            <h3>Option</h3>
                            <ul class="form_ul">
                                <li>
                                    <label for="inputBorderWidth">배치</label>
                                    <button class="easy-button" onclick="setEasyWrapClass(this, 'hor')">버튼
                                        가로</button>
                                    <button class="easy-button" onclick="setEasyWrapClass(this, 'ver')">버튼
                                        세로</button>
                                </li>
                            </ul>
                            <ul class="form_ul">
                                <li>
                                    <label for="inputBorderWidth">정렬(가로)</label>
                                    <button class="icon1 easy-button2"
                                        onclick="setEasyWrapClass2(this, 'jc_start')"></button>
                                    <button class="icon2 easy-button2"
                                        onclick="setEasyWrapClass2(this, 'jc_center')"></button>
                                    <button class="icon3 easy-button2"
                                        onclick="setEasyWrapClass2(this, 'jc_end')"></button>
                                    <button class="icon4 easy-button2"
                                        onclick="setEasyWrapClass2(this, 'jc_between')"></button>
                                </li>
                            </ul>
                            <ul class="form_ul">
                                <li>
                                    <label for="inputBorderWidth">정렬(세로)</label>
                                    <button class="icon5 easy-button3"
                                        onclick="setEasyWrapClass3(this, 'ai_start')"></button>
                                    <button class="icon6 easy-button3"
                                        onclick="setEasyWrapClass3(this, 'ai_center')"></button>
                                    <button class="icon7 easy-button3"
                                        onclick="setEasyWrapClass3(this, 'ai_end')"></button>
                                </li>
                            </ul>
                            <ul class="form_ul">
                                <li>
                                    <label for="inputBorderWidth">간격</label>
                                    <input type="text">
                                </li>
                            </ul>
                            <ul class="form_ul">
                                <li>
                                    <label for="inputBorderWidth">줄바꿈</label>
                                    <button class="easy-button4"
                                        onclick="setEasyWrapClass4(this, 'f_wrap')">Wrap</button>
                                    <button class="easy-button4"
                                        onclick="setEasyWrapClass4(this, 'f_nowrap')">NoWrap</button>
                                </li>
                            </ul>
                            <ul class="form_ul">
                                <li>
                                    <label for="inputBorderWidth">개별요소 이동</label>
                                    <button class="move_icon2"></button>
                                    <button class="move_icon3"></button>
                                </li>
                            </ul>
                            <ul class="form_ul">
                                <li>
                                    <label for="inputBorderWidth">요소 배치변경</label>
                                    <button class="move_icon1" id="move-left">좌측</button>
                                    <button class="move_icon4" id="move-right">우측</button>
                                </li>
                            </ul>
                        </div>
                        <script>
                            function setEasyWrapClass(clickedButton, className) {
                                // 모든 버튼 선택
                                const buttons = document.querySelectorAll('.easy-button');

                                // .easy_wrap 요소 선택
                                const easyWrap = document.querySelector('.easy_wrap');

                                // 모든 버튼에서 active 클래스 제거
                                buttons.forEach(button => {
                                    button.classList.remove('active');
                                });

                                // 클릭된 버튼에 active 클래스 추가
                                clickedButton.classList.add('active');

                                // .easy_wrap에서 모든 관련 클래스 제거
                                if (1) {
                                    easyWrap.classList.remove('ver', 'hor');
                                }


                                // 새로운 클래스 추가
                                easyWrap.classList.add(className);
                            }

                            function setEasyWrapClass2(clickedButton, className) {
                                // 모든 버튼 선택
                                const buttons = document.querySelectorAll('.easy-button2');

                                // .easy_wrap 요소 선택
                                const easyWrap = document.querySelector('.easy_wrap');

                                // 모든 버튼에서 active 클래스 제거
                                buttons.forEach(button => {
                                    button.classList.remove('active');
                                });

                                // 클릭된 버튼에 active 클래스 추가
                                clickedButton.classList.add('active');

                                // .easy_wrap에서 모든 관련 클래스 제거
                                if (1) {
                                    easyWrap.classList.remove('jc_start', 'jc_center', 'jc_end', 'jc_between');
                                }


                                // 새로운 클래스 추가
                                easyWrap.classList.add(className);
                            }

                            function setEasyWrapClass3(clickedButton, className) {
                                // 모든 버튼 선택
                                const buttons = document.querySelectorAll('.easy-button3');

                                // .easy_wrap 요소 선택
                                const easyWrap = document.querySelector('.easy_wrap');

                                // 모든 버튼에서 active 클래스 제거
                                buttons.forEach(button => {
                                    button.classList.remove('active');
                                });

                                // 클릭된 버튼에 active 클래스 추가
                                clickedButton.classList.add('active');

                                // .easy_wrap에서 모든 관련 클래스 제거
                                if (1) {
                                    easyWrap.classList.remove('ai_start', 'ai_center', 'ai_end');
                                }


                                // 새로운 클래스 추가
                                easyWrap.classList.add(className);
                            }

                            function setEasyWrapClass4(clickedButton, className) {
                                // 모든 버튼 선택
                                const buttons = document.querySelectorAll('.easy-button4');

                                // .easy_wrap 요소 선택
                                const easyWrap = document.querySelector('.easy_wrap');

                                // 모든 버튼에서 active 클래스 제거
                                buttons.forEach(button => {
                                    button.classList.remove('active');
                                });

                                // 클릭된 버튼에 active 클래스 추가
                                clickedButton.classList.add('active');

                                // .easy_wrap에서 모든 관련 클래스 제거
                                if (1) {
                                    easyWrap.classList.remove('f_wrap', 'f_nowrap');
                                }


                                // 새로운 클래스 추가
                                easyWrap.classList.add(className);
                            }
                        </script>



                        <script>
                            document.addEventListener('DOMContentLoaded', function () {
                                const container = document.getElementById('item-container');
                                const buttonContainer = document.getElementById('button-container');
                                const moveTopButton = document.getElementById('move-top');
                                const moveUpButton = document.getElementById('move-up');
                                const moveDownButton = document.getElementById('move-down');
                                const moveBottomButton = document.getElementById('move-bottom');
                                const moveleftButton = document.getElementById('move-left');
                                const moverightButton = document.getElementById('move-right');
                                let selectedItem = null;

                                function updateButtonPosition() {
                                    if (selectedItem) {
                                        const rect = selectedItem.getBoundingClientRect();
                                        buttonContainer.style.display = 'block';
                                        buttonContainer.style.top = (window.scrollY + rect.bottom) + 'px';
                                        buttonContainer.style.left = rect.left + 'px';
                                    } else {
                                        buttonContainer.style.display = 'none';
                                    }
                                }

                                container.addEventListener('click', function (e) {
                                    if (e.target.classList.contains('movable-item')) {
                                        if (selectedItem) selectedItem.classList.remove('selected');
                                        selectedItem = e.target;
                                        selectedItem.classList.add('selected');
                                        updateButtonPosition();
                                    }
                                });

                                moveTopButton.addEventListener('click', function () {
                                    if (selectedItem) {
                                        container.insertBefore(selectedItem, container.firstChild);
                                        updateButtonPosition();
                                    }
                                });

                                moveUpButton.addEventListener('click', function () {
                                    if (selectedItem && selectedItem.previousElementSibling) {
                                        container.insertBefore(selectedItem, selectedItem.previousElementSibling);
                                        updateButtonPosition();
                                    }
                                });

                                moveDownButton.addEventListener('click', function () {
                                    if (selectedItem && selectedItem.nextElementSibling) {
                                        container.insertBefore(selectedItem.nextElementSibling, selectedItem);
                                        updateButtonPosition();
                                    }
                                });

                                moveBottomButton.addEventListener('click', function () {
                                    if (selectedItem) {
                                        container.appendChild(selectedItem);
                                        updateButtonPosition();
                                    }
                                });
                                moveleftButton.addEventListener('click', function () {
                                    if (selectedItem) {
                                        selectedItem.classList.remove('right');
                                        buttonContainer.style.display = 'none';
                                    }
                                });
                                moverightButton.addEventListener('click', function () {
                                    if (selectedItem) {
                                        selectedItem.classList.add('right');
                                        buttonContainer.style.display = 'none';
                                    }
                                });

                                buttonContainer.style.display = 'none';
                                window.addEventListener('resize', updateButtonPosition);
                            });
                        </script>
                        <script>
                            var flag = 1;
                            document.getElementById('addButton').addEventListener('click', function () {
                                // 새로운 div 요소 생성
                                var newDiv = document.createElement('div');
                                const div1 = document.getElementById('div01');
                                const div2 = document.getElementById('div02');

                                // 새로운 div에 내용과 스타일 추가
                                newDiv.textContent = '새로운 div';
                                newDiv.style.border = '1px dotted black';
                                newDiv.style.background = '#d7e3ff';
                                newDiv.style.padding = '5px';
                                // 컨테이너에 새로운 div 추가
                                document.getElementById('easy_wrap').appendChild(newDiv);

                                if (flag == 1) {
                                    div1.classList.remove('none');
                                    flag++;
                                } else {
                                    div2.classList.remove('none');
                                }
                            });
                        </script>
                        <script>
                            function applyStyle() {
                                const select = document.getElementById('style-select');
                                const input = document.getElementById('value-input');
                                const targetComponent = document.getElementById('target');

                                const selectedOption = select.value;
                                const inputValue = input.value;

                                if (selectedOption === 'flex') {
                                    targetComponent.style.flex = inputValue;
                                    targetComponent.style.width = 'auto';
                                } else if (selectedOption === 'width') {
                                    targetComponent.style.flex = 'none';
                                    targetComponent.style.width = inputValue + 'px';
                                } else if (selectedOption === 'auto') {
                                    targetComponent.style.flex = 'none';
                                    targetComponent.style.width = 'auto';
                                }
                            }
                        </script>
                        <script>
                            function applyStyle2() {
                                const select = document.getElementById('style-select2');
                                const input = document.getElementById('value-input2');
                                const targetComponent = document.getElementById('target2');

                                const selectedOption = select.value;
                                const inputValue = input.value;

                                if (selectedOption === 'flex') {
                                    targetComponent.style.flex = inputValue;
                                    targetComponent.style.width = 'auto';
                                } else if (selectedOption === 'width') {
                                    targetComponent.style.flex = 'none';
                                    targetComponent.style.width = inputValue + 'px';
                                } else if (selectedOption === 'auto') {
                                    targetComponent.style.flex = 'none';
                                    targetComponent.style.width = 'auto';
                                }
                            }
                        </script>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>